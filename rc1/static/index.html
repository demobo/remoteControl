<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Awesome Bookmarklet!</title>
    </head>
    <body>
      <div>This is the <a href="javascript:(function(){if(typeof toggleDemobo!='undefined'){toggleDemobo();}else{var s = document.createElement('script');s.src = 'http://rc1.demobo.com/core/demobo-ext.js'; document.body.appendChild(s);}}())">DeMobo</a> bookmarklet</div>
      <div>Enter the port number that you wanna load demobo-ext.js and util.js from: <input id='demoboPort' /></div>
      <div>Enter the port number that you wanna load controllers from:<input id='rcPort' /></div>
      <div><button onclick='javascript:generateBookmarklet()'>Generate dev bookmarklet</button></div>
      <div> This is the <a href=''>Fucking awesome but dummy</a> bookmarklet</div>
      <div>Enter the port number that you wanna load demobo-portal.js</div>
      <div>This is the dev version: <a href="javascript:(function(){var s = document.createElement('script'); s.src='http://localhost:1240/core/demobo-portal.js'; document.body.appendChild(s);}())">DemoboDev</a></div>
    </body>
</html>

<script>
function generateBookmarklet(){
  var current = document.getElementById('bookmarklet');
  if (current){
    current.parentNode.removeChild(current);
  }
  var elem = document.createElement('a');
  elem.setAttribute('id','bookmarklet');
  elem.href = "javascript:(function(){if(typeof toggleDemobo!='undefined'){toggleDemobo();}else{var s = document.createElement('script');window.demoboRcPort = "+document.getElementById('rcPort').value+";window.demoboPort = "+document.getElementById('demoboPort').value+";s.src='http://localhost:"+document.getElementById('demoboPort').value+"/dev/demobo-ext.js';document.body.appendChild(s);}}())";
  elem.innerText = "DemoboDev";
  document.body.appendChild(elem);
}
</script>
